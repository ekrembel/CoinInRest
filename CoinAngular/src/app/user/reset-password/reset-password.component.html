<h1 class="display-4 text-center">Reset Password</h1>



<div class="wrapper">
    <div class="wrapped-div">
        <div class="row">
            <div class="col-md-10 offset-md-1">             
                <div *ngIf="init" class="" style="margin-top: 20px;">
                    <form>
                        <div class="form-group required">
                            <label>Email Address</label>
                            <input #email class="form-control" type="email" />
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-8 offset-md-2">
                                <button class="btn btn-lg btn-block" type="submit" (click)="onClick(email.value)" >Continue</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<div *ngIf="reset" class="wrapper">
    <div class="wrapped-div">
        <div class="row">
            <div class="col-md-10 offset-md-1">             
                <form style="margin-top: 20px;" [formGroup]="service.resetPasswordModel" autocomplete="off">
                    <!-- <input formControlName="Email" value="{{email}}" />
                    <input  value="{{token}}" formControlName="Token" /> -->
                    <div formGroupName="NewPasswords">
                        <div class="form-group required">
                            <label>New Password</label>
                            <input class="form-control" #pw type="password" formControlName="NewPassword" />
                            <span class="text-danger" *ngIf="service.resetPasswordModel.get('NewPasswords.NewPassword').touched && service.resetPasswordModel.get('NewPasswords.NewPassword').errors?.required"><small>Please enter a new password.</small></span>
                            <span class="text-danger" *ngIf="service.resetPasswordModel.get('NewPasswords.NewPassword').touched && service.resetPasswordModel.get('NewPasswords.NewPassword').errors?.minlength"><small>Password must be at least 8 characters!</small></span>
                        </div>
                        <div class="form-group required">
                            <label>Confirm New Password</label>
                            <input class="form-control" type="password" formControlName="ConfirmNewPassword" />
                            <span class="text-danger" *ngIf="service.resetPasswordModel.get('NewPasswords.ConfirmNewPassword').touched && service.resetPasswordModel.get('NewPasswords.ConfirmNewPassword').errors?.required"><small>Please confirm your new password.</small></span>
                            <span class="text-danger" *ngIf="service.resetPasswordModel.get('NewPasswords.ConfirmNewPassword').touched && service.resetPasswordModel.get('NewPasswords.ConfirmNewPassword').errors?.passwordMismatch"><small>Confirm password does not match!</small></span>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-8 offset-md-2">
                            <button class="btn btn-lg btn-block" type="submit" (click)="onReset(pw.value)" value="Submit" [disabled]="!service.resetPasswordModel.valid" >Submit</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>